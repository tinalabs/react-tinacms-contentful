{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{\"95al\":function(e,n,t){\"use strict\";t.r(n),t.d(n,\"default\",(function(){return b}));var a=t(\"cxan\"),c=t(\"HbGN\"),o=t(\"ERkP\"),r=t.n(o),l=t(\"ZVZ0\"),s=(r.a.createElement,{});function b(e){var n=e.components,t=Object(c.a)(e,[\"components\"]);return Object(l.b)(\"wrapper\",Object(a.a)({},s,t,{components:n,mdxType:\"MDXLayout\"}),Object(l.b)(\"h1\",null,\"Getting Started\"),Object(l.b)(\"hr\",null),Object(l.b)(\"h2\",null,\"Pre-requisites\"),Object(l.b)(\"p\",null,\"This documentation assumes you:\"),Object(l.b)(\"ul\",null,Object(l.b)(\"li\",{parentName:\"ul\"},\"Are comfortable with \",Object(l.b)(\"a\",Object(a.a)({parentName:\"li\"},{href:\"https://tinacms.org/docs\"}),\"TinaCMS\")),Object(l.b)(\"li\",{parentName:\"ul\"},\"Have a working \",Object(l.b)(\"a\",Object(a.a)({parentName:\"li\"},{href:\"https://tinacms.org/guides\"}),\"Tina site\"),\" ready to setup with Contentful\"),Object(l.b)(\"li\",{parentName:\"ul\"},\"Have a Contentful account and have setup access tokens to your space\")),Object(l.b)(\"h2\",null,\"Usage\"),Object(l.b)(\"p\",null,\"First add the package to your site, along with the necessary contentful libraries:\"),Object(l.b)(\"p\",null,Object(l.b)(\"inlineCode\",{parentName:\"p\"},\"npm install react-tinacms-contentful contentful contentful-management\")),Object(l.b)(\"p\",null,\"Then wrap the CMS with the provider:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(a.a)({parentName:\"pre\"},{}),\"const cms = new TinaCMS();\\n\\nexport const Cms({children}) {\\n  return (\\n    <TinaProvider cms={cms}>\\n      <ContentfulProvider>\\n        {children}\\n      </ContentfulProvider>\\n    </TinaProvider>\\n  )\\n}\\n\")),Object(l.b)(\"p\",null,\"Then we'll need to configure the CMS to talk to contentful. We'll pull any \\\"secret\\\" values out of environment variables\",Object(l.b)(\"sup\",Object(a.a)({parentName:\"p\"},{id:\"fnref-1\"}),Object(l.b)(\"a\",Object(a.a)({parentName:\"sup\"},{href:\"#fn-1\",className:\"footnote-ref\"}),\"1\")),\".\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-diff\"}),\"+ import { ContentfulApiClient } from 'react-tinacms-contentful'\\n+\\n-const cms = new TinaCMS();\\n+const cms = new TinaCMS({\\n+  enabled: false,\\n+  sidebar: true,\\n+  apis: {\\n+    contentful: new ContentfulApiClient({\\n+      spaceId: process.env.CONTENTFUL_SPACE_ID,\\n+      defaultEnvironmentId: process.env.CONTENTFUL_DEFAULT_ENVIRONMENT_ID,\\n+      accessTokens: {\\n+       delivery: process.env.CONTENTFUL_DELIVERY_ACCESS_TOKEN,\\n+       preview: process.env.CONTENTFUL_PREVIEW_ACCESS_TOKEN\\n+      },\\n+      redirectUrl: \\\"/\\\"\\n+    })\\n+  }\\n+});\\n\\nexport const Cms({children}) {\\n  return (\\n    <TinaProvider cms={cms}>\\n      <ContentfulProvider>\\n        {children}\\n      </ContentfulProvider>\\n    </TinaProvider>\\n  )\\n}\\n\")),Object(l.b)(\"p\",null,\"You'll need to create a \",Object(l.b)(\"inlineCode\",{parentName:\"p\"},\".env\"),' file to store these \"secrets\" in the root of the project and fill in the blanks:'),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-ini\"}),\"CONTENTFUL_SPACE_ID=\\nCONTENTFUL_DEFAULT_ENVIRONMENT_ID=master\\nCONTENTFUL_DELIVERY_ACCESS_TOKEN=\\nCONTENTFUL_PREVIEW_ACCESS_TOKEN=\\n\")),Object(l.b)(\"p\",null,\"Finally, you'll need to setup you'll need to setup your editing route(s) to receive the redirect back from Contentful to finish the login workflow.\\nFor the purposes of this demo, we'll assume it's the root route, or \",Object(l.b)(\"inlineCode\",{parentName:\"p\"},'\"/\"')),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-diff\"}),\"+import { useContentfulAuthRedirect } from 'react-tinacms-contentful'\\n\\nexport const App() {\\n+  useContentfulAuthRedirect()\\n  ...\\n}\\n\")),Object(l.b)(\"p\",null,\"Now you should be able to enable the CMS and login with Contentful, either by:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(a.a)({parentName:\"pre\"},{}),\"const cms = new TinaCMS({\\n-  enabled: false,\\n+  enabled: true,\\n\")),Object(l.b)(\"p\",null,\"or:\"),Object(l.b)(\"pre\",null,Object(l.b)(\"code\",Object(a.a)({parentName:\"pre\"},{className:\"language-diff\"}),\"+ import { useCallback } from 'react'\\n+ import { useCMS } from 'tina-cms'\\nimport { useContentfulAuthRedirect } from 'react-tinacms-contentful'\\n\\nexport const App() {\\n+  const cms = useCMS()\\n+  const enableCMS = useCallback(() => cms.enable())\\n+\\n  useContentfulAuthRedirect() \\n  ...\\n+    return ( \\n+    ...\\n+      <Button onClick={enableCMS}>Enable CMS\\n+    ...\\n+    )\\n  )\\n}\\n\")),Object(l.b)(\"div\",{className:\"footnotes\"},Object(l.b)(\"hr\",{parentName:\"div\"}),Object(l.b)(\"ol\",{parentName:\"div\"},Object(l.b)(\"li\",Object(a.a)({parentName:\"ol\"},{id:\"fn-1\"}),'we store \"secrets\" in environment variables so they can be changed dynamically at deploy time. This also keeps them out of source code, which can cause problems.',Object(l.b)(\"a\",Object(a.a)({parentName:\"li\"},{href:\"#fnref-1\",className:\"footnote-backref\"}),\"\\u21a9\")))))}b.isMDXComponent=!0}}]);","extractedComments":[]}